# Описание визуальных и функциональных требований

В левой части будет заголовок «Управление», а ниже вкладки: «Регулятор давления», «Регулятор уровня воды в основной камере», «Регулятора уровня нефти в основной камере», нажимая на эти вкладки, ты переходишь на них. 

По центру заголовок «Цифровой двойник», где находится 2д модель трёхфазного сепаратора по прикреплённому фото. Сепаратор должен быть прямоугольной формы с округлыми углами, покажи верхнюю часть сепаратора как серый газ с пузырьками, по середине сепаратора должна находиться нефть чёрного цвета, а снизу вода голубого цвета, которая не вытекает за свою перегородку. Жидкости не должны заходить за границы сепаратора. Жидкость(эмульсия) поступает в сепаратор по трубе, которая находится слева сепаратора. Напор поступления жидкости регулируется насосом, если мы нажмём на насос должен увеличиться расход жидкости. Эмульсия представлена тремя компонентами: газ с пузырьками, вода голубого цвета и чёрная нефть, которые находится хаотично, они разделяются непосредственно в сепараторе. Попадая в сепаратор, эмульсия разделяется. На нижней границе сепаратора, где находится вода, идёт труба с клапаном для воды, клапан можно открыть и закрыть нажатием на него, если клапан закрыт в сепараторе начинает подниматься уровень воды и выходит окно с предупреждением аварии, если клапан открыт, вода течёт по трубе, а уровень воды в сепараторе уменьшается и приходит в норму. Клапан должен совпадать со значением шкалы с названием «степень открытия клапана» во вкладке с заголовком «Регулятор уровня воды в основной камере». Также покажи течение голубой воды по трубе, которое должно останавливаться, если клапан воды закрыт. Где фаза нефти на правой границе сепаратора начинает идти чёрная труба нефти с клапаном, который можно открыть и закрыть нажатием на клапан, если клапан закрыт в сепараторе начинает подниматься уровень нефти, тогда уровни газа и воды соответственно уменьшаются, и выходит мигающее красным цветом окно с предупреждением аварии, если клапан открыт нефть течёт по трубе, а уровни жидкостей в сепараторе приходят в норму. Клапан должен совпадать со значением шкалы с названием «степень открытия клапана» во вкладке с заголовком «Регулятор уровня нефти в основной камере». Также покажи течение чёрной нефти по трубе, которое останавливается, если клапан нефти закрыт. На верхней границе сепаратора начинает идти труба газа с клапаном, который можно открыть и закрыть при нажатии, если клапан закрыт в сепараторе начинает подниматься уровень газа, тогда уровни нефти и воды соответственно уменьшаются, и выходит мигающее красным цветом окно с предупреждением аварии, если клапан открыт газ с пузырьками идёт по трубе, а уровни жидкостей в сепараторе приходят в норму. Также покажи движение попутного нефтяного газа с пузырьками по трубе, движение газа по трубе останавливается, если клапан газа закрыт. На цифровом двойнике покажи, как изменяются показатели давления, уровня воды, уровня нефти и газа, показатели выведи в отдельное большое окошко рядом с сепаратором. 

Слева должна находиться вкладка с рекомендациями, которые меняются при измене различных показателей: 

Если такие значения параметров: Давление (P) < 6 мПа, Уровень воды (W) < 30%, Уровень нефти (H) 20-30%, то в рекомендациях высвечивается:
    1. Приоткрыть клапан на газовой линии для снижения отбора газа и повышения давления в аппарате до диапазона 6-16 мПа.
    2. Проверить герметичность системы, входное давление и работу предохранительных клапанов.
    3. Поднять уровень воды (W) до 30-70%, плавно прикрыв дренажный клапан воды.

Если такие значения параметров: Давление (P) < 6 мПа, Уровень воды (W) < 30%, Уровень нефти (H) 40-55%.
то в рекомендациях высвечивается:
    1. Основная задача – поднять давление (P). Приоткрыть клапан на газовой линии.
    2. Уровень воды (W) низкий: прикрыть дренажный клапан воды для уменьшения откачки воды и поднятия уровня до 30-70%.
    3. Уровень нефти (H) оптимален (40-55%), регулировку клапана откачки нефти не производить.

Если такие значения параметров: Давление (P) < 6 мПа, Уровень воды (W) < 30%, Уровень нефти (H) 60-70%.
то в рекомендациях высвечивается:
    1. Сначала поднять давление: приоткрыть клапан на газовой линии.
    2. Снизить уровень нефти (H): приоткрыть клапан откачки нефти для усиления откачки до диапазона 40-55%.
    3. Уровень воды (W) низкий: прикрыть дренажный клапан воды. Действовать осторожно, чтобы не спровоцировать сброс нефти в дренаж.

Если такие значения параметров: Давление (P) < 6 мПа, Уровень воды (W) 30-70%, Уровень нефти (H) 20-30%.
то в рекомендациях высвечивается:
    1. Поднять давление (P): приоткрыть клапан на газовой линии.
    2. Уровень воды (W) оптимален (30-70%), регулировку дренажного клапана воды не производить.
    3. Уровень нефти (H) низкий (20-30%): прикрыть клапан откачки нефти для уменьшения откачки и накопления уровня до 40-55%.

Если такие значения параметров: Давление (P) < 6 мПа, Уровень воды (W) 30-70%, Уровень нефти (H) 40-55%.
то в рекомендациях высвечивается:
    1. Сфокусироваться на нормализации давления. Плавно приоткрыть клапан на газовой линии до выхода в диапазон 6-16 мПа.
    2. Параметры W (30-70%) и H (40-55%) находятся в целевом диапазоне. Контролировать их, пока давление не выйдет на режим. Регулировку дренажного клапана воды и клапана откачки нефти не производить.

Если такие значения параметров: Давление (P) < 6 мПа, Уровень воды (W) 30-70%, Уровень нефти (H) 60-70%.
то в рекомендациях высвечивается:
    1. Поднять давление (P): приоткрыть клапан на газовой линии.
    2. Снизить уровень нефти (H): приоткрыть клапан откачки нефти до достижения 40-55%.
    3. Уровень воды (W) оптимален. Контролировать, чтобы при регулировке H и P он не вышел за пределы 30-70%.

Если такие значения параметров: Давление (P) < 6 мПа, Уровень воды (W) > 70%, Уровень нефти (H) 20-30%.
то в рекомендациях высвечивается:
    1. Поднять давление: приоткрыть клапан на газовой линии.
    2. Снизить уровень воды (W): открыть дренажный клапан воды для усиленного сброса воды до уровня 30-70%.
    3. Поднять уровень нефти (H): прикрыть клапан откачки нефти. Высок риск выноса воды в нефтяной отсек. Приоритет – сброс воды.

Если такие значения параметров: Давление (P) < 6 мПа, Уровень воды (W) > 70%, Уровень нефти (H) 40-55%.
то в рекомендациях высвечивается:
    1. Поднять давление (P): приоткрыть клапан на газовой линии.
    2. Снизить уровень воды (W): открыть дренажный клапан воды до уровня <70%.
    3. Уровень нефти (H) оптимален. Контролировать границу раздела, чтобы при сбросе воды не начался сброс нефти.

Если такие значения параметров: Давление (P) < 6 мПа, Уровень воды (W) > 70%, Уровень нефти (H) 60-70%.
то в рекомендациях высвечивается (Критический режим. Низкое давление и высокие уровни):
    1. Экстренно снизить уровни: полностью открыть дренажный клапан воды и клапан откачки нефти для предотвращения переполнения и выноса жидкости в газовую линию.
    2. После снижения уровней скорректировать клапан на газовой линии для плавного повышения давления.
    3. Проверить входной поток – возможно, требуется его уменьшение.

Если такие значения параметров: Давление (P) 6-16 мПа, Уровень воды (W) < 30%, Уровень нефти (H) 20-30%.
то в рекомендациях высвечивается:
    1. Давление в норме. Регулировку клапана на газовой линии не производить.
    2. Поднять уровень воды (W): прикрыть дренажный клапан воды до диапазона 30-70%.
    3. Поднять уровень нефти (H): прикрыть клапан откачки нефти до диапазона 40-55%. Действовать плавно, чтобы не нарушить давление.

Если такие значения параметров: Давление (P) 6-16 мПа, Уровень воды (W) < 30%, Уровень нефти (H) 40-55%.
то в рекомендациях высвечивается:
    1. Поддерживать давление (P) в оптимальном диапазоне 6-16 мПа.
    2. Поднять уровень воды (W): прикрыть дренажный клапан воды.
    3. Уровень нефти (H) оптимален (40-55%), регулировку клапана откачки нефти не производить.

Если такие значения параметров: Давление (P) 6-16 мПа, Уровень воды (W) < 30%, Уровень нефти (H) 60-70%.
то в рекомендациях высвечивается:
    1. Поддерживать давление (P).
    2. Поднять уровень воды (W): прикрыть дренажный клапан воды до 30-70%.
    3. Снизить уровень нефти (H): приоткрыть клапан откачки нефти до 40-55%.

Если такие значения параметров: Давление (P) 6-16 мПа, Уровень воды (W) 30-70%, Уровень нефти (H) 20-30%.
то в рекомендациях высвечивается:
    1. Поддерживать давление (P) и уровень воды (W).
    2. Поднять уровень нефти (H): прикрыть клапан откачки нефти до 40-55%.

Если такие значения параметров: Давление (P) 6-16 мПа, Уровень воды (W) 30-70%, Уровень нефти (H) 40-55%.
то в рекомендациях высвечивается (НОРМАЛЬНЫЙ РЕЖИМ РАБОТЫ):
    1. Поддерживать текущие установки клапана на газовой линии, дренажного клапана воды, клапана откачки нефти.
    2. Вести постоянный мониторинг параметров. Регулировка не требуется.

Если такие значения параметров: Давление (P) 6-16 мПа, Уровень воды (W) 30-70%, Уровень нефти (H) 60-70%.
то в рекомендациях высвечивается:
    1. Поддерживать давление (P) и уровень воды (W).
    2. Снизить уровень нефти (H): приоткрыть клапан откачки нефти до 40-55%.

Если такие значения параметров: Давление (P) 6-16 мПа, Уровень воды (W) > 70%, Уровень нефти (H) 20-30%.
то в рекомендациях высвечивается:
    1. Поддерживать давление (P).
    2. Снизить уровень воды (W): открыть дренажный клапан воды до уровня ниже 70%.
    3. Поднять уровень нефти (H): прикрыть клапан откачки нефти. Риск выноса воды. Приоритет – сброс воды.

Если такие значения параметров: Давление (P) 6-16 мПа, Уровень воды (W) > 70%, Уровень нефти (H) 40-55%.
то в рекомендациях высвечивается:
    1. Поддерживать давление (P).
    2. Снизить уровень воды (W): открыть дренажный клапан воды.
    3. Уровень нефти (H) оптимален. Контролировать границу раздела вода-нефть.
Если такие значения параметров: Давление (P) 6-16 мПа, Уровень воды (W) > 70%, Уровень нефти (H) 60-70%.
то в рекомендациях высвечивается (Аварийная ситуация. Высокие уровни при нормальном давлении):
    1. Срочно снизить уровни: полностью открыть дренажный клапан воды и клапан откачки нефти.
    2. Контролировать давление (P) – при резком сбросе жидкостей оно может упасть ниже 6 мПа, может потребоваться прикрыть клапан на газовой линии.
    3. Проверить производительность насосов откачки.
Если такие значения параметров: Давление (P) > 16 мПа, Уровень воды (W) < 30%, Уровень нефти (H) 20-30%.
то в рекомендациях высвечивается:
    1. Снизить давление (P): прикрыть клапан на газовой линии для увеличения отбора газа до диапазона 6-16 мПа.
    2. Поднять уровни: прикрыть дренажный клапан воды (до 30-70%) и клапан откачки нефти (до 40-55%).
    3. Действовать плавно, высокое давление может быть причиной низких уровней.
Если такие значения параметров: Давление (P) > 16 мПа, Уровень воды (W) < 30%, Уровень нефти (H) 40-55%.
то в рекомендациях высвечивается:
    1. Снизить давление: прикрыть клапан на газовой линии.
    2. Поднять уровень воды (W): прикрыть дренажный клапан воды до 30-70%.
    3. Уровень нефти (H) оптимален. Контролировать, чтобы при регулировке давления он не упал ниже 40%.
Если такие значения параметров: Давление (P) > 16 мПа, Уровень воды (W) < 30%, Уровень нефти (H) 60-70%.
то в рекомендациях высвечивается:
    1. Снизить давление (P): прикрыть клапан на газовой линии.
    2. Уровень воды (W) низкий: прикрыть дренажный клапан воды.
    3. Снизить уровень нефти (H): приоткрыть клапан откачки нефти. Сложная многофакторная регулировка. Действовать поэтапно.
Если такие значения параметров: Давление (P) > 16 мПа, Уровень воды (W) 30-70%, Уровень нефти (H) 20-30%.
то в рекомендациях высвечивается:
    1. Снизить давление: прикрыть клапан на газовой линии.
    2. Уровень воды (W) оптимален (30-70%).
    3. Поднять уровень нефти (H): прикрыть клапан откачки нефти до 40-55%.
Если такие значения параметров: Давление (P) > 16 мПа, Уровень воды (W) 30-70%, Уровень нефти (H) 40-55%.
то в рекомендациях высвечивается:
    1. Основная задача – нормализовать давление. Плавно прикрыть клапан на газовой линии до выхода в диапазон 6-16 мПа.
    2. Параметры W (30-70%) и H (40-55%) оптимальны. Внимательно контролировать их при изменении давления. Регулировку дренажного клапана воды и клапана откачки нефти не производить.
Если такие значения параметров: Давление (P) > 16 мПа, Уровень воды (W) 30-70%, Уровень нефти (H) 60-70%.
то в рекомендациях высвечивается:
    1. Снизить давление (P): прикрыть клапан на газовой линии.
    2. Уровень воды (W) оптимален.
    3. Снизить уровень нефти (H): приоткрыть клапан откачки нефти до 40-55%.
Если такие значения параметров: Давление (P) > 16 мПа, Уровень воды (W) > 70%, Уровень нефти (H) 20-30%.
то в рекомендациях высвечивается:
    1. Снизить давление: прикрыть клапан на газовой линии.
    2. Снизить уровень воды (W): открыть дренажный клапан воды до уровня <70%.
    3. Поднять уровень нефти (H): прикрыть клапан откачки нефти. Режим нестабилен. Приоритет – снижение давления и уровня воды.
Если такие значения параметров: Давление (P) > 16 мПа, Уровень воды (W) > 70%, Уровень нефти (H) 40-55%.
то в рекомендациях высвечивается:
    1. Снизить давление (P): прикрыть клапан на газовой линии.
    2. Снизить уровень воды (W): открыть дренажный клапан воды.
    3. Уровень нефти (H) оптимален. Контролировать, чтобы при сбросе воды не начался сброс нефти.
Если такие значения параметров: Давление (P) > 16 мПа, Уровень воды (W) > 70%, Уровень нефти (H) 60-70%.
то в рекомендациях высвечивается (КРИТИЧЕСКИ АВАРИЙНЫЙ РЕЖИМ. Высокое давление и переполнение):
    1. Немедленно снизить давление: полностью открыть клапан на газовой линии на сброс газа.
    2. Экстренно снизить уровни: полностью открыть дренажный клапан воды и клапан откачки нефти.
    3. Рассмотреть возможность снижения входного потока или переключения на резервный сепаратор.
    4. Подготовиться к срабатыванию предохранительных клапанов. 

Стиль должен быть в светло голубом и белом цветах. При нажатии на вкладку «Регулятор давления» появляется шкала открытия клапана с ползунком, диапазон которой от 0 до 1, где нижняя граница (0)-закрыт клапан, а верхняя граница(1)-клапан открыт полностью, и оптимальное значение(0.5)-клапан открыт наполовину, и шкала расхода жидкости с ползунком, диапазон которой от 100 до 8000 м³/сут. Также расход жидкости можно регулировать насосом, при нажатии на насос расход жидкости увеличивается, значение расхода жидкости по шкале и насосу должно быть одинаковым, потому что это одна и та же величина. Должно быть большое окошко, где будет показано значение давления, которое высчитывается по формуле: Раскрытие клапана (Kvs) умноженное на расход жидкости(Q) возведённое во вторую степень. Если значение давления превышает 10.000 кПА (килопаскалей), то вылазит красное мигающее окно с предупреждением аварии и рекомендует, уменьшить напор насоса, если значение давление меньше 1000 кПа(килопаскалей), то вылазит красное мигающее окошко с предупреждением об аварии и рекомендует увеличить напор насоса. Когда значение приходят в норму, всплывающее окошко исчезает. 

Вторая вкладка с заголовком «Регулятор уровня воды в основной камере», а ниже шкала с ползунком, с названием «степень открытия клапана», обозначается как К, диапазон значений от 0 до 1, где 0-клапан закрыт, 1 – клапан открыт, а оптимальное значение 0,5 – клапан открыт наполовину. Ниже шкала с названием «расход жидкости», обозначается как Q, диапазон значений от 100 до 8000 м³/сут. Должно быть большое окошко, где будет показано значение уровня воды в миллиметрах (мм), которое высчитывается по формуле: уровень жидкости в сепараторе вычисляется как минимальная высота плюс рабочий диапазон, умноженный на кубический корень из отношения (открытие клапана минус 0,1) к произведению 0,9 на сумму единицы и отношения расхода к 8000. Если посчитанное значение больше 2880 миллиметров, то всплывает красное мигающее окошко с предупреждением аварии и советует открыть клапан и сбросить воду, если меньше 320 миллиметров, то всплывает красное мигающее окошко с предупреждением аварии и советует закрыть клапан. 

Третья вкладка с заголовком «Клапан регулятора уровня нефти в основой камере», а ниже шкала с ползунком с названием «коэффициент пропускной способности клапана», обозначается как Cv, диапазон значений от 0 до 56 м³/ч. Ниже шкала с названием «перепад давления на клапане», обозначается как ΔP, диапазон значений от 0 до 8,5 бар. Третья шкала с названием «степень открытия клапана», обозначается как u, диапазон значений от 0 до 1, где 0 – клапан закрыт, 0,5-клапан открыт на половину, что является оптимальным, 1 – клапан полностью открыт. Должно быть окошко, где будет показано значение уровня нефти (Q) в процентах, которое высчитывается по формуле: коэффициент пропускной способности клапана(Cv), умноженное на степень открытия клапан (u), умноженное на квадратный корень из перепада давления на клапане(ΔP). Если посчитанное значение уровня нефти(Q) больше 15%, то всплывает красное мигающее окошко с предупреждением аварии и советует открыть клапан, если меньше 0,5%, то всплывает красное мигающее окошко с предупреждением аварии и советует закрыть клапан. 
